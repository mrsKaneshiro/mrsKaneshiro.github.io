<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0,minimal-ui:ios">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>获取科室</title>
    <script src="lib/vue-v2.5.2.js"></script>
    <script src="https://cdn.bootcss.com/FileSaver.js/1.3.8/FileSaver.js" ></script>
</head>
<body>
    <div id="app" style="margin-left: 10%;margin-top: 1% ;">
        <form>
            <label>请从以下科室中选择一个：</label>
            <br/>
            <div style="margin-top: 10px;">
                <label id="1" for="erke">儿科</label>
                <input type="radio" name="sex"  value="儿科" v-model="label"/>
                <label  id="2" for="erbiyanhouke" style="margin-left: 10px;">耳鼻咽喉科</label>
                <input type="radio" name="sex" value="耳鼻咽喉科" v-model="label"/>
                <label  id="3" for="fengshimianyike" style="margin-left: 10px;">风湿免疫科</label>
                <input type="radio" name="sex" value="风湿免疫科" v-model="label"/>
            </div>
        </form>
        <br />
        <form>
            <label id="1" for="erke">症状描述：</label>
            <br/>
            <div style="margin-top: 10px;">
                <textarea rows="15" cols="30" placeholder="请输入至少15个字以上" value="" v-model="text"></textarea>
            </div>
        </form>
       
        <input type="submit" value="OK" @click="onclick"/>
        <span >当前已录入条{{arr_length}}</span>
    </div>
</body>
<script>
    
    new Vue({
        el: '#app',
        data: {
           label:'',
           text:'',
           arr:[], //最终的数据
           arr_length:0,
        },
        methods: {
            onclick:function (){
                if(this.label == '' || this.text == ''){
                    alert("请填写完整！")
                    return false
                }
                var obj_temp={
                    "label":this.label,
                    "text":this.text
                }

                this.arr.push(obj_temp)
                this.arr_length =this.arr.length
                this.label ='';
                this.text='';

                //对获得的数据进行编辑 
                if(this.arr.length == 2){
                    var OBJ ={
                        array:this.arr
                    }
                    var content = JSON.stringify(OBJ);
                    var blob = new Blob([content], {type: "text/plain;charset=utf-8"});
                    saveAs(blob, "caijunbao.json");
                }
                console.log("完成")
            }
        }
        })
</script>
</html>
